{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ErinS\\\\Documents\\\\GitHub\\\\pui-homework-advanced-esawyer\\\\solution-hw6\\\\src\\\\views\\\\home\\\\cart.js\";\n// Used lab activity (notecard) for reference\n\nimport React, { Component } from 'react';\nimport { useState } from \"react\";\nimport CartRoll from './cartroll.js';\n// import './cartroll.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // cartrollData: JSON.parse(localStorage.getItem(\"cartrollData\")) || [],\n    };\n  }\n  componentDidMount() {\n    // console.log(\"hello\", this.state.cartrollData);\n    localStorage.setItem(\"cartrollData\", JSON.stringify(this.props.cartrollData));\n  }\n  componentDidUpdate() {\n    localStorage.setItem(\"cartrollData\", JSON.stringify(this.props.cartrollData));\n    // console.log(\"cart\", this.state.cartrollData)\n    // if \n    // console.log(\"cart new\", JSON.parse(localStorage.getItem(\"cartrollData\")))\n  }\n\n  // // This function handles removing rolls from the cart via the remove button on the cart roll cards, and updating associated values\n  // removeButtonHandler = (rollIndex) => {\n  //   const newCartRollData = this.state.cartrollData;\n  //   // let newCartRollData = JSON.parse(localStorage.getItem(\"cartrollData\"))\n  //   // let newTotalPrice = this.state.totalPrice;\n  //   // newTotalPrice = (parseFloat(newTotalPrice) - parseFloat(newCartRollData[rollIndex].roll_price)).toFixed(2)\n\n  //   newCartRollData.splice(rollIndex, 1);\n\n  //   // let item_count = newCartRollData.length;\n  //   // let itemText = \"\";\n  //   // if (item_count == 1) {\n  //   //   itemText = \" item\";\n  //   // } else {\n  //   //   itemText = \" items\";\n  //   // }\n\n  //   // console.log(\"cart remove\", newCartRollData)\n  //   // localStorage.setItem(\"cartrollData\", JSON.stringify(newCartRollData));\n\n  //   this.setState(prevState => ({\n  //     ...prevState,\n  //     // totalPrice: newTotalPrice,\n  //     // totalItems: item_count,\n  //     // totalItemsText: itemText,\n  //     cartrollData: newCartRollData\n  //   }))\n  // };\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overall_cart_holder\",\n      children: [this.state.cartrollData.length == 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart_empty_text\",\n        children: \"The cart is empty!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), this.state.cartrollData.length >= 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart_shown_holder\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart_shown_price_items_text_holder\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-items-text-shown\",\n            children: `Shopping Cart (` + `${this.props.cartrollData.length}` + `${this.props.cartrollData.length == 1 ? \" item\" : \" items\"}` + `)`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-total-text-shown\",\n            children: \"Total: \" + `${this.props.cartrollData.reduce((sum, num) => parseFloat(sum) + parseFloat(num.roll_price), 0).toFixed(2)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cartcard-list\",\n          children: this.props.cartrollData.map((cartroll, idx) => {\n            return /*#__PURE__*/_jsxDEV(CartRoll, {\n              rollIndex: idx,\n              roll_img_src: cartroll.roll_img_src,\n              roll_img_alt: cartroll.roll_img_alt,\n              roll_figcaption: cartroll.roll_figcaption,\n              roll_base_price: cartroll.roll_base_price,\n              roll_type: cartroll.roll_type,\n              roll_glazing: cartroll.roll_glazing,\n              roll_pack_size: cartroll.roll_pack_size,\n              roll_price: this.props.priceCalculator(cartroll.roll_base_price, cartroll.roll_glazing, cartroll.roll_pack_size),\n              onRemove: this.props.onRemove\n              // onRemove = {this.removeButtonHandler}\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 18\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Cart;","map":{"version":3,"names":["React","Component","useState","CartRoll","jsxDEV","_jsxDEV","Cart","constructor","props","state","componentDidMount","localStorage","setItem","JSON","stringify","cartrollData","componentDidUpdate","render","className","children","length","fileName","_jsxFileName","lineNumber","columnNumber","reduce","sum","num","parseFloat","roll_price","toFixed","map","cartroll","idx","rollIndex","roll_img_src","roll_img_alt","roll_figcaption","roll_base_price","roll_type","roll_glazing","roll_pack_size","priceCalculator","onRemove"],"sources":["C:/Users/ErinS/Documents/GitHub/pui-homework-advanced-esawyer/solution-hw6/src/views/home/cart.js"],"sourcesContent":["// Used lab activity (notecard) for reference\r\n\r\nimport React, { Component } from 'react';\r\nimport { useState } from \"react\";\r\nimport CartRoll from './cartroll.js';\r\n// import './cartroll.css';\r\n\r\nclass Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        // cartrollData: JSON.parse(localStorage.getItem(\"cartrollData\")) || [],\r\n    };   \r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log(\"hello\", this.state.cartrollData);\r\n    localStorage.setItem(\"cartrollData\", JSON.stringify(this.props.cartrollData));\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    localStorage.setItem(\"cartrollData\", JSON.stringify(this.props.cartrollData));\r\n    // console.log(\"cart\", this.state.cartrollData)\r\n    // if \r\n    // console.log(\"cart new\", JSON.parse(localStorage.getItem(\"cartrollData\")))\r\n  }\r\n\r\n      // // This function handles removing rolls from the cart via the remove button on the cart roll cards, and updating associated values\r\n      // removeButtonHandler = (rollIndex) => {\r\n      //   const newCartRollData = this.state.cartrollData;\r\n      //   // let newCartRollData = JSON.parse(localStorage.getItem(\"cartrollData\"))\r\n      //   // let newTotalPrice = this.state.totalPrice;\r\n      //   // newTotalPrice = (parseFloat(newTotalPrice) - parseFloat(newCartRollData[rollIndex].roll_price)).toFixed(2)\r\n    \r\n      //   newCartRollData.splice(rollIndex, 1);\r\n    \r\n      //   // let item_count = newCartRollData.length;\r\n      //   // let itemText = \"\";\r\n      //   // if (item_count == 1) {\r\n      //   //   itemText = \" item\";\r\n      //   // } else {\r\n      //   //   itemText = \" items\";\r\n      //   // }\r\n    \r\n      //   // console.log(\"cart remove\", newCartRollData)\r\n      //   // localStorage.setItem(\"cartrollData\", JSON.stringify(newCartRollData));\r\n    \r\n      //   this.setState(prevState => ({\r\n      //     ...prevState,\r\n      //     // totalPrice: newTotalPrice,\r\n      //     // totalItems: item_count,\r\n      //     // totalItemsText: itemText,\r\n      //     cartrollData: newCartRollData\r\n      //   }))\r\n      // };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className = \"overall_cart_holder\">\r\n      \r\n      {(this.state.cartrollData.length == 0) &&\r\n                <div className = \"cart_empty_text\">The cart is empty!</div>\r\n              }\r\n\r\n              {(this.state.cartrollData.length >= 1) &&\r\n\r\n                <div className = \"cart_shown_holder\">\r\n\r\n\r\n      <div className = \"cart_shown_price_items_text_holder\">\r\n\r\n                    <div className = \"cart-items-text-shown\">\r\n                      {/* {`Shopping Cart (`+`${this.state.totalItems}`+ `${this.state.totalItemsText}`+`)`} */}\r\n                      {/* {console.log(\"cart roll check\", JSON.parse(localStorage.getItem(\"cartrollData\")))}\r\n                      {`Shopping Cart (`+`${JSON.parse(localStorage.getItem(\"cartrollData\")).length}`+ `${JSON.parse(localStorage.getItem(\"cartrollData\")).length == 1 ? \" item\" : \" items\"}`+`)`} */}\r\n                      {`Shopping Cart (`+`${this.props.cartrollData.length}`+ `${this.props.cartrollData.length == 1 ? \" item\" : \" items\"}`+`)`}\r\n                      {/* \"Work\" ? \"blue\" : \"green\" */}\r\n                    </div>\r\n\r\n                    <div className = \"cart-total-text-shown\">\r\n                      {/* {\"Total: \"+ `${JSON.parse(localStorage.getItem(\"cartrollData\")).reduce((sum, num) => parseFloat(sum) + parseFloat(num.roll_price), 0).toFixed(2)}`} */}\r\n                      {\"Total: \"+ `${this.props.cartrollData.reduce((sum, num) => parseFloat(sum) + parseFloat(num.roll_price), 0).toFixed(2)}`}\r\n                      {/* {\"Total: \"+ `${this.state.cartrollData.reduce((sum, num) => console.log(\"num\", num) )}`} */}\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n        <div className = \"cartcard-list\"> \r\n\r\n        {/* {console.log(\"cart roll check\", cartrollData)} */}\r\n\r\n        {this.props.cartrollData.map((cartroll, idx) => {\r\n          return <CartRoll\r\n            key={idx}\r\n            rollIndex={idx}\r\n            roll_img_src={cartroll.roll_img_src}\r\n            roll_img_alt={cartroll.roll_img_alt}\r\n            roll_figcaption={cartroll.roll_figcaption}\r\n            roll_base_price={cartroll.roll_base_price}\r\n            roll_type={cartroll.roll_type}\r\n            roll_glazing={cartroll.roll_glazing}\r\n            roll_pack_size={cartroll.roll_pack_size}\r\n            roll_price= {this.props.priceCalculator(cartroll.roll_base_price, cartroll.roll_glazing, cartroll.roll_pack_size)}\r\n            onRemove = {this.props.onRemove}\r\n            // onRemove = {this.removeButtonHandler}\r\n\r\n            />;\r\n        })}\r\n      </div>\r\n    </div>}\r\n    </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cart;"],"mappings":";AAAA;;AAEA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,QAAQ,MAAM,eAAe;AACpC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,MAAMC,IAAI,SAASL,SAAS,CAAC;EAC3BM,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACT;IAAA,CACH;EACH;EAEAC,iBAAiBA,CAAA,EAAG;IAClB;IACAC,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACN,KAAK,CAACO,YAAY,CAAC,CAAC;EAC/E;EAEAC,kBAAkBA,CAAA,EAAG;IACnBL,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACN,KAAK,CAACO,YAAY,CAAC,CAAC;IAC7E;IACA;IACA;EACF;;EAEI;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEJE,MAAMA,CAAA,EAAG;IAEP,oBACEZ,OAAA;MAAKa,SAAS,EAAG,qBAAqB;MAAAC,QAAA,GAEpC,IAAI,CAACV,KAAK,CAACM,YAAY,CAACK,MAAM,IAAI,CAAC,iBAC3Bf,OAAA;QAAKa,SAAS,EAAG,iBAAiB;QAAAC,QAAA,EAAC;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAG3D,IAAI,CAACf,KAAK,CAACM,YAAY,CAACK,MAAM,IAAI,CAAC,iBAEnCf,OAAA;QAAKa,SAAS,EAAG,mBAAmB;QAAAC,QAAA,gBAG9Cd,OAAA;UAAKa,SAAS,EAAG,oCAAoC;UAAAC,QAAA,gBAEvCd,OAAA;YAAKa,SAAS,EAAG,uBAAuB;YAAAC,QAAA,EAIpC,iBAAgB,GAAE,GAAE,IAAI,CAACX,KAAK,CAACO,YAAY,CAACK,MAAO,EAAC,GAAG,GAAE,IAAI,CAACZ,KAAK,CAACO,YAAY,CAACK,MAAM,IAAI,CAAC,GAAG,OAAO,GAAG,QAAS,EAAC,GAAE;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEtH,CAAC,eAENnB,OAAA;YAAKa,SAAS,EAAG,uBAAuB;YAAAC,QAAA,EAErC,SAAS,GAAG,GAAE,IAAI,CAACX,KAAK,CAACO,YAAY,CAACU,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKC,UAAU,CAACF,GAAG,CAAC,GAAGE,UAAU,CAACD,GAAG,CAACE,UAAU,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAE;UAAC;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEtH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEH,CAAC,eAEhBnB,OAAA;UAAKa,SAAS,EAAG,eAAe;UAAAC,QAAA,EAI/B,IAAI,CAACX,KAAK,CAACO,YAAY,CAACgB,GAAG,CAAC,CAACC,QAAQ,EAAEC,GAAG,KAAK;YAC9C,oBAAO5B,OAAA,CAACF,QAAQ;cAEd+B,SAAS,EAAED,GAAI;cACfE,YAAY,EAAEH,QAAQ,CAACG,YAAa;cACpCC,YAAY,EAAEJ,QAAQ,CAACI,YAAa;cACpCC,eAAe,EAAEL,QAAQ,CAACK,eAAgB;cAC1CC,eAAe,EAAEN,QAAQ,CAACM,eAAgB;cAC1CC,SAAS,EAAEP,QAAQ,CAACO,SAAU;cAC9BC,YAAY,EAAER,QAAQ,CAACQ,YAAa;cACpCC,cAAc,EAAET,QAAQ,CAACS,cAAe;cACxCZ,UAAU,EAAG,IAAI,CAACrB,KAAK,CAACkC,eAAe,CAACV,QAAQ,CAACM,eAAe,EAAEN,QAAQ,CAACQ,YAAY,EAAER,QAAQ,CAACS,cAAc,CAAE;cAClHE,QAAQ,EAAI,IAAI,CAACnC,KAAK,CAACmC;cACvB;YAAA,GAXKV,GAAG;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAaP,CAAC;UACN,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAGR;AACF;AAEA,eAAelB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}